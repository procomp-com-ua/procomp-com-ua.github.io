{"head":{"title":"Как отличаются между собой поколения процессоров","description":"В этой статье я пытаюсь вычислить разницу в производительности процессоров в идеальном случае - когда производительность линейно зависит от…"},"body":"<p>В этой статье я пытаюсь вычислить разницу в производительности процессоров в идеальном случае - когда производительность линейно зависит от количества ядер и частоты.</p>\n<h1 id=\"Расчет-коэффициентов-производительности\"><a href=\"#%D0%A0%D0%B0%D1%81%D1%87%D0%B5%D1%82-%D0%BA%D0%BE%D1%8D%D1%84%D1%84%D0%B8%D1%86%D0%B8%D0%B5%D0%BD%D1%82%D0%BE%D0%B2-%D0%BF%D1%80%D0%BE%D0%B8%D0%B7%D0%B2%D0%BE%D0%B4%D0%B8%D1%82%D0%B5%D0%BB%D1%8C%D0%BD%D0%BE%D1%81%D1%82%D0%B8\" class=\"phenomic-HeadingAnchor\">#</a>Расчет коэффициентов производительности</h1>\n<p>Для начала посчитаем как между собой отличаются поколения процессоров.\nТо есть насколько одно ядро процессора на сокете 1366 (архитектура Westmere) работающее на частоте 3ГГц\nмедленнее одного ядра процессора на сокете 2011-1, 2011-2 и 2011-3 работающего на такой же на частоте.\nЭто Sandy Bridge, Ivy Bridge и Haswell соответственно.</p>\n<p>Данные по Westmere, Sandy Bridge, Ivy Bridge и Haswell я взял из этой статьи: <a href=\"http://www.anandtech.com/show/8426/the-intel-haswell-e-cpu-review-core-i7-5960x-i7-5930k-i7-5820k-tested/2\">http://www.anandtech.com/show/8426/the-intel-haswell-e-cpu-review-core-i7-5960x-i7-5930k-i7-5820k-tested/2</a></p>\n<table>\n  <tr>\n    <th>Пакет</th>\n    <th>Westmere</th>\n    <th>Sandy Bridge</th>\n    <th>Ivy Bridge</th>\n    <th>Haswell</th>\n  </tr>\n  <tr>\n    <td>CineBench 10 single</td>\n    <td>4567</td>\n    <td>5299</td>\n    <td>5728</td>\n    <td>6261</td>\n  </tr>\n  <tr>\n    <td></td>\n    <td>0</td>\n    <td>16.03%</td>\n    <td>25.42%</td>\n    <td>37.09%</td>\n  </tr>\n  <tr>\n    <td>CineBench 11.5 single</td>\n    <td>1.11</td>\n    <td>1.3</td>\n    <td>1.35</td>\n    <td>1.4</td>\n  </tr>\n  <tr>\n    <td></td>\n    <td>0</td>\n    <td>17.12%</td>\n    <td>21.62%</td>\n    <td>26.13%</td>\n  </tr>\n  <tr>\n    <td>CineBench 15 single</td>\n    <td>98</td>\n    <td>111</td>\n    <td>117</td>\n    <td>127</td>\n  </tr>\n  <tr>\n    <td></td>\n    <td>0</td>\n    <td>13.27%</td>\n    <td>19.39%</td>\n    <td>29.59%</td>\n  </tr>\n  <tr>\n    <td>Итого прирост однопоточной производительности</td>\n    <td>0.00%</td>\n    <td>15.47%</td>\n    <td>22.14%</td>\n    <td>30.94%</td>\n  </tr>\n</table>\n<table>\n  <tr>\n    <th>Пакет</th>\n    <th>Westmere</th>\n    <th>Sandy Bridge</th>\n    <th>Ivy Bridge</th>\n    <th>Haswell</th>\n  </tr>\n  <tr>\n    <td>CineBench 10 multi</td>\n    <td>15857</td>\n    <td>19351</td>\n    <td>20710</td>\n    <td>22116</td>\n  </tr>\n  <tr>\n    <td></td>\n    <td>0</td>\n    <td>22.03%</td>\n    <td>30.60%</td>\n    <td>39.47%</td>\n  </tr>\n  <tr>\n    <td>CineBench 11.5 multi</td>\n    <td>4.42</td>\n    <td>5.13</td>\n    <td>5.38</td>\n    <td>5.55</td>\n  </tr>\n  <tr>\n    <td></td>\n    <td>0</td>\n    <td>16.06%</td>\n    <td>21.72%</td>\n    <td>25.57%</td>\n  </tr>\n  <tr>\n    <td>CineBench 15 multi</td>\n    <td>383</td>\n    <td>438</td>\n    <td>456</td>\n    <td>504</td>\n  </tr>\n  <tr>\n    <td></td>\n    <td>0</td>\n    <td>14.36%</td>\n    <td>19.06%</td>\n    <td>31.59%</td>\n  </tr>\n  <tr>\n    <td>PovRay</td>\n    <td>805</td>\n    <td>949</td>\n    <td>1021</td>\n    <td>1199</td>\n  </tr>\n  <tr>\n    <td></td>\n    <td>0</td>\n    <td>17.89%</td>\n    <td>26.83%</td>\n    <td>48.94%</td>\n  </tr>\n  <tr>\n    <td>Итого прирост многопоточной производительности</td>\n    <td>0.00%</td>\n    <td>17.59%</td>\n    <td>24.55%</td>\n    <td>36.39%</td>\n  </tr>\n  </table>\n  <table>\n  <tr>\n    <th>Пакет</th>\n    <th>Westmere</th>\n    <th>Sandy Bridge</th>\n    <th>Ivy Bridge</th>\n    <th>Haswell</th>\n  </tr>\n  <tr>\n    <td>Средний прирост</td>\n    <td>0.00%</td>\n    <td>16.53%</td>\n    <td>23.35%</td>\n    <td>33.67%</td>\n  </tr>\n</table>\n<p>Я отбросил данные не относящиеся к рендерингу и получил следующие значения:</p>\n<p>Sandy Bridge быстрее Westmere на 16%</p>\n<p>Ivy Bridge быстрее Westmere на 23%</p>\n<p>Haswell быстрее Westmere на 33%</p>\n<p>Соотвественно получаются коэффициенты 1.16, 1.23 и 1.33 для Sandy Bridge, Ivy Bridge и Haswell по сравнению с Westmere.</p>\n<p>Производительность Broadwell, Skylake и Kaby lake выше Haswell при одинаковой частоте где-то на 6-7% <a href=\"https://www.pcper.com/reviews/Processors/Intel-Core-i7-7700K-Review-Kaby-Lake-and-14nm/Clock-Clock-Kaby-Lake-Skylake-Broad\">(ссылка на результаты тестов)</a>.\nМежду собой Broadwell, Skylake и Kaby lake отличается в пределах статистической погрешности.\nПроизводительность новых процессоров растет за счет увеличения частоты, а не архитектуры, к сожалению. </p>\n<p>Эти коэффициенты используются повсеместно на <a href=\"https://procomp.com.ua\">procomp.com.ua</a> для сравнения конфигураций основанных на процессорах разных поколений между собой.</p>\n<p>Еще раз оговорюсь, что все нижесказанное имеет смысл только для случая линейного прироста производительности от количества ядер процессора.\nТо есть для рендеринга. Любые другие программы от многопоточности выигрывают не так сильно. А иногда и вообще не выигрывают и всегда используют только одно ядро.</p>\n<h1 id=\"Примеры-расчета-производительности-с-применением-этих-коэффициентов\"><a href=\"#%D0%9F%D1%80%D0%B8%D0%BC%D0%B5%D1%80%D1%8B-%D1%80%D0%B0%D1%81%D1%87%D0%B5%D1%82%D0%B0-%D0%BF%D1%80%D0%BE%D0%B8%D0%B7%D0%B2%D0%BE%D0%B4%D0%B8%D1%82%D0%B5%D0%BB%D1%8C%D0%BD%D0%BE%D1%81%D1%82%D0%B8-%D1%81-%D0%BF%D1%80%D0%B8%D0%BC%D0%B5%D0%BD%D0%B5%D0%BD%D0%B8%D0%B5%D0%BC-%D1%8D%D1%82%D0%B8%D1%85-%D0%BA%D0%BE%D1%8D%D1%84%D1%84%D0%B8%D1%86%D0%B8%D0%B5%D0%BD%D1%82%D0%BE%D0%B2\" class=\"phenomic-HeadingAnchor\">#</a>Примеры расчета производительности с применением этих коэффициентов</h1>\n<p>Для начала вспомним, что такое технология Turbo Boost и как она работает: <a href=\"https://ru.wikipedia.org/wiki/Turbo_Boost\">https://ru.wikipedia.org/wiki/Turbo_Boost</a></p>\n<p>Конкретно, нас интересует тот факт, что Turbo Boost не может поднять частоту до максимальной сразу на всех ядрах процессора, потому что процессор, может выйти за пределы своего теплового пакета при этом (перегреться).</p>\n<p>К примеру для Core i7-5960x Turbo Boost обозначается как 3.5 ГГц при базовой частоте 3.0ГГц, но 3.5ГГц может быть только в случае, если актвино (задествовано по максимуму) лишь одно ядро. То есть выполняется какое-то строго однопоточное приложение - к примеру, javascript в броузере. Если же задействованы по максимуму сразу все ядра процессора - например, при рендеринге, то Turbo Boost подымет частоту ядер лишь до 3.3 ГГц. Именно на частоту 3.3ГГц стоит ориентироваться при оценке производительности системы.</p>\n<p>От скорости работы памяти и дисковой подсистеы рендеринг особо не зависит, все упирается только в процессоры.</p>\n<p>Будем измерять производительность в попугаях:</p>\n<p>1 ядро Westmere на 1ГГц - это один попугай</p>\n<h2 id=\"Примеры-подсчета-производитетельности\"><a href=\"#%D0%9F%D1%80%D0%B8%D0%BC%D0%B5%D1%80%D1%8B-%D0%BF%D0%BE%D0%B4%D1%81%D1%87%D0%B5%D1%82%D0%B0-%D0%BF%D1%80%D0%BE%D0%B8%D0%B7%D0%B2%D0%BE%D0%B4%D0%B8%D1%82%D0%B5%D1%82%D0%B5%D0%BB%D1%8C%D0%BD%D0%BE%D1%81%D1%82%D0%B8\" class=\"phenomic-HeadingAnchor\">#</a>Примеры подсчета производитетельности:</h2>\n<p><strong>Система на базе одного Core i7-5960x</strong>. 8 ядер. Частота базовая - 3 ГГц. Частота при Turbo Boost на всех ядрах - 3.3 ГГц.</p>\n<p>1 x 8 x 3.0 x 1.33 = 31.92 - базовая производительность.</p>\n<p>1 x 8 x 3.3 x 1.33 = 35.11 - производительность в Turbo Boost</p>\n<p><strong>Система на базе двух Xeon X5670</strong>. 6 ядер. Частота базовая - 2.93 ГГц. Частота при Turbo Boost на всех ядрах - 3.2 ГГц.</p>\n<p>2 x 6 x 2.93 x 1 = 35.16 - базовая производительность.</p>\n<p>2 x 6 x 3.2 x 1 = 38.4 - производительность в Turbo Boost</p>\n<p><strong>Система на базе двух Xeon E5-2670 v1</strong>. 8 ядер. Частота базовая - 2.6 ГГц. Частота при Turbo Boost на всех ядрах - 3 ГГц.</p>\n<p>2 x 8 x 2.6 x 1.16 = 48.26 - базовая производительность.</p>\n<p>2 x 8 x 3.0 x 1.16 = 55.68 - производительность в Turbo Boost </p>\n<p><strong>Почти максимально возможная на сегодняшний день система (просто для справки - каждый процессор стоит больше $3000):</strong> 2 х Xeon E5-2699 v3 - 18 ядер, базовая 2.3, турбобуст на всех ядрах - 2.8</p>\n<p>2 x 18 x 2.3 x 1.3 = 110 - базовая производительность.</p>\n<p>2 x 18 x 2.8 x 1.3 = 134.06 - производительность в Turbo Boost</p>\n","__filename":"articles\\difference-between-processor-generations.md","__url":"/articles/difference-between-processor-generations/","__resourceUrl":"/articles/difference-between-processor-generations/index.html","__dataUrl":"/articles/difference-between-processor-generations/index.html.0f81283f94fe6eea9e6e3f07fdc1bbbe.json"}